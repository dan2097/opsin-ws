<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>OPSIN: Open Parser for Structural IUPAC Nomenclature</title>
<script src="/jquery-1.3.2.js" type="text/javascript"></script>
<script type="text/javascript">
 $(document).ready(function() {
	$("#chemicalNameForm").submit(function(e) {
    document.getElementById("results").style.display="";
    $("#cml").text("");
    $("#inchi").text("");
    $("#smiles").text("");
    $("#depiction").attr("src", "");
    var chemicalName = $("#chemicalName").val();
		$.ajax({
      beforeSend: function(req) {
        req.setRequestHeader("Accept", "chemical/x-cml");
      },
      dataType: "text",
      type: "GET",
      url: "/opsin/" +chemicalName,
      success: function(cml){
        $("#cml").text(cml);
      },
      error: function(XMLHttpRequest, textStatus, errorThrown){
        $("#cml").text(textStatus);
      }
		} );
		$.ajax({
      beforeSend: function(req) {
        req.setRequestHeader("Accept", "chemical/x-inchi");
      },
      dataType: "text",
      type: "GET",
      url: "/opsin/" +chemicalName,
      success: function(inchi){
        $("#inchi").text(inchi);
      },
      error: function(XMLHttpRequest, textStatus, errorThrown){
        $("#inchi").text(textStatus);
      }
		} );
		$.ajax({
      beforeSend: function(req) {
        req.setRequestHeader("Accept", "chemical/x-daylight-smiles");
      },
      dataType: "text",
      type: "GET",
      url: "/opsin/" +chemicalName,
      success: function(smiles){
        $("#smiles").text(smiles);
      },
      error: function(XMLHttpRequest, textStatus, errorThrown){
        $("#smiles").text(textStatus);
      }
		} );
    $("#depiction").attr("src", "/opsin/" +chemicalName +".png");
    return false;
	})
 });
</script>
</head>
<body>
<div>
  <form action="" name="chemicalNameForm" id="chemicalNameForm">
    <p>Enter a chemical name into the box then click submit. If the name can be interpreted a depiction, SMILES and CML will be returned.<br><input type="text" id="chemicalName" size="100" value="2,4,6-trinitrotoluene">
    <input type="submit" value="Submit"><br>
Updated 9/4/10. Now powered by the CDK/JChemPaint9<br> Note that this web interface is primarily for demonstration purposes.  Responsiveness and other issues will be addressed in the future.
    </p>
  </form>
  <div id="results" style="display:none">
    <p><img id="depiction" src="" alt=""></p>
    SMILES: <p id="smiles"></p>
    InChI (Not yet working): <p id="inchi"></p>
    CML: <pre id="cml"></pre>
  </div>

</div>
</body>
</html>